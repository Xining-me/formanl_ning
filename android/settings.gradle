// settings.gradle - for Flutter projects (compatible with includeBuild)
pluginManagement {
    repositories {
        gradlePluginPortal()
        google()
        mavenCentral()
        maven { url 'https://storage.googleapis.com/flutter_infra_release/maven' }
    }
}

def flutterRoot = null
// try to read flutter.sdk from local.properties if present
def propsFile = new File(rootDir, "local.properties")
if (propsFile.exists()) {
    Properties props = new Properties()
    propsFile.withInputStream { stream -> props.load(stream) }
    if (props.getProperty("flutter.sdk") != null) {
        flutterRoot = props.getProperty("flutter.sdk")
    }
}
// fallback: try relative path (common for CI that checks out repo near flutter)
if (flutterRoot == null) {
    // If Codemagic / CI provides FLUTTER_ROOT env, use it:
    if (System.getenv("FLUTTER_ROOT") != null) {
        flutterRoot = System.getenv("FLUTTER_ROOT")
    } else {
        // leave null â€” includeBuild will only be attempted if flutterRoot resolved
        flutterRoot = null
    }
}

if (flutterRoot != null) {
    includeBuild("$flutterRoot/packages/flutter_tools/gradle")
}

rootProject.name = "formanl_ning"
include ":app"
